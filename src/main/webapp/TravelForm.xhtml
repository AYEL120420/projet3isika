<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://primefaces.org/ui">

<head>
    <title>Formulaire de Voyage</title>
  
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
        <h:form enctype="multipart/form-data">
		<h2>Proposez votre voyage</h2>

		<div class="form-group">
			<h:outputLabel value="Pays:" />
			<h:inputText value="#{journeyControllerBean.journeyVM.country}"
				required="true" />
		</div>

		<div class="form-group">
			<h:outputLabel value="Adresse" />
			<h:inputText value="#{journeyControllerBean.journeyVM.location}"
				required="true" />
		</div>

		<div class="form-group">
			<h:outputLabel value="Prix" />
			<h:inputText value="#{journeyControllerBean.journeyVM.price}"
				required="true" />
		</div>

		<div class="form-group">
			<h:outputLabel value="Nombres de voyageurs acceptés" />
			<h:inputText
				value="#{journeyControllerBean.journeyVM.numberOfTravellers}"
				required="true" />
		</div>

		<div class="form-group">

			<h:outputLabel value="Date de Début du Voyage:" />
			<h:inputText id="startDate"
				value="#{journeyControllerBean.journeyVM.startDate}" required="true">
				<f:convertDateTime pattern="dd/MM/yyyy" />
			</h:inputText>

			<h:outputLabel value="Date de Fin du Voyage:" />
			<h:inputText id="endDate"
				value="#{journeyControllerBean.journeyVM.endDate}" required="true">
				<f:convertDateTime pattern="dd/MM/yyyy" />
			</h:inputText>

			
			 <div class="form-group">
        <label for="imageFile">Sélectionnez une image :</label>
        <h:inputFile id="imageFile" value="#{journeyControllerBean.imageFile}" accept="image/*" />
    </div>
    

		</div>
		<h:commandButton action="#{journeyControllerBean.clear()}"
			value="Clear" />

		<div class="form-group">
			<h:commandButton action="#{journeyControllerBean.addJourney}"
				value="Create" />
		</div>
		
<div class="journey">
    <ui:repeat value="#{journeyControllerBean.journeys}" var="journey">
        <div class="content-package">
            <ui:graphicImage value="#{journeyControllerBean.getImageStream(journey.imageStream)}" alt="Journey Image"/>
            <div class="name-package">#{journey.country}</div>
            <div class="description-package">#{journey.location}</div>
            <div class="price-package">#{journey.price}</div>
            <button>Voir plus</button>
        </div>
    </ui:repeat>
</div>
	

	</h:form>
</body>
</html>